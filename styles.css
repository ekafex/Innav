/* Basics */
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif; color: #111; background: #fff; }
header { padding: 10px 14px; border-bottom: 1px solid #e7e7e7; display: flex; gap: 16px; align-items: center; }
h1 { font-size: 18px; margin: 0; white-space: nowrap; }
.muted { color: #666; }
main { height: calc(100vh - 60px); }

/* Viewer */
.viewer { position: relative; width: 100%; height: 100%; background: #fafafa; }
.layer { position: absolute; inset: 0; }
.hidden { display: none; }
.floor-svg { width: 100%; height: 100%; background: #fff; }

/* HUD */
.hud { position: absolute; left: 10px; right: 10px; top: 10px; display: grid; gap: 8px; pointer-events: none; z-index: 20; }
.hud .row { display: flex; gap: 8px; align-items: center; pointer-events: auto; }
.hud input { padding: 6px 10px; border: 1px solid #ccc; border-radius: 8px; min-width: 160px; background: #fff; }
.hud button { padding: 6px 10px; border-radius: 8px; border: 1px solid #ccc; cursor: pointer; background: #fff; }
.hud button.secondary { background: #f4f4f4; border: 1px solid #ddd; }
.spacer { flex: 1; }
.mini { font-size: 12px; }

/* Big, draggable cue (floating card) */
.big-nav-float {
  position: absolute;
  left: 12px; bottom: 12px;   /* Default location: bottom-left */
  display: grid; justify-items: center; text-align: center; gap: 10px;
  pointer-events: auto; z-index: 15; cursor: grab;
  user-select: none; -webkit-user-drag: none;
}
.big-nav-float:active { cursor: grabbing; }

.big-nav-icon {
  width: min(38vw, 260px); height: min(38vw, 260px);
  border-radius: 24px; background: #eef4ff; border: 2px solid #d7e3ff;
  display: grid; place-items: center; box-shadow: 0 18px 48px rgba(0,0,0,0.25);
}
.big-nav-icon svg { width: 70%; height: 70%; }

.big-nav-primary { font-size: clamp(18px, 3.5vw, 28px); font-weight: 700; }
.big-nav-secondary { font-size: clamp(12px, 2vw, 14px); color: #666; }

/* PiP */
.pip { position: absolute; right: 12px; bottom: 12px; width: 260px; background: #fff; border: 1px solid #ddd;
       border-radius: 10px; box-shadow: 0 6px 18px rgba(0,0,0,0.15); overflow: hidden; z-index: 11; }
.pip-bar { height: 30px; display: flex; align-items: center; justify-content: space-between; padding: 0 8px;
           background: #f7f7f7; border-bottom: 1px solid #eee; }
.pip-title { font-size: 12px; color: #444; }
.pip .icon { width: 26px; height: 22px; line-height: 20px; border-radius: 6px; border: 1px solid #ccc; background: #fff; cursor: pointer; }
#pipCanvas { width: 100%; height: 150px; display: block; background: #fff; }

.pip-show { position: absolute; right: 12px; bottom: 12px; border: 1px solid #ccc; border-radius: 50%;
            width: 40px; height: 40px; background: #fff; box-shadow: 0 4px 14px rgba(0,0,0,0.15); cursor: pointer; z-index: 11; }
.pip-show.hidden { display: none; }
